import{r as p,o as s,c as n,w as u,a as o,t as a,F as f,d as h,b as r,v as y,e as v,_ as w,p as D,f as C,g as c,L as $}from"./index-8e793eeb.js";const g=e=>(D("data-v-f1045461"),e=e(),C(),e),k={class:"document"},S=["title"],N=["title"],b=g(()=>o("i",{class:"fa-solid fa-tag tag-icon"},null,-1)),G={key:0,class:"tag-list"},B=["title"],E=g(()=>o("div",{class:"actions"},[o("span",{class:"loadContent"},[o("i",{class:"fa-solid fa-file"})])],-1)),F={class:"documentContent"},I={props:{document:{type:Object,required:!0}},data(){return{loading:!1,loadedDocument:null,hover:!1,showContent:!1}},methods:{async loadContent(e){if(!this.loading)try{this.loading=!0,this.loadedDocument=(await v.get(`folders/${this.folderGuid}/${e}`)).data,this.showContent=!this.showContent}catch{alert("Server was unable to load document.")}finally{this.loading=!1}},getDocument(e){return this.loadedDocument&&this.loadedDocument.guid===e?this.loadedDocument.content:null}},directives:{"trim-whitespace":O},computed:{folderGuid(){return this.$route.params.id}}};function m(e){for(let t of e.childNodes)t.nodeType===Node.TEXT_NODE&&t.data.trim()===""&&t.remove()}var O={inserted:m,componentUpdated:m};const T=Object.assign(I,{__name:"DocumentComponent",setup(e){return(t,d)=>{const l=p("trim-whitespace");return s(),n("div",k,[u((s(),n("div",{class:"documentsHeader",onClick:d[2]||(d[2]=i=>t.loadContent(e.document.guid))},[o("div",{class:"title",title:e.document.title},a(e.document.title),9,S),o("div",{class:"type",title:e.document.type},a(e.document.type),9,N),e.document.tags.length>0?(s(),n("div",{key:0,class:"tags",onMouseover:d[0]||(d[0]=i=>t.hover=!0),onMouseleave:d[1]||(d[1]=i=>t.hover=!1)},[b,t.hover?(s(),n("div",G,[o("ul",null,[(s(!0),n(f,null,h(e.document.tags,i=>(s(),n("li",{key:i},a(i),1))),128))])])):r("",!0)],32)):r("",!0),o("div",{class:"version",title:e.document.version},a(e.document.version),9,B),E])),[[l]]),o("div",F,[u(o("div",null,a(t.getDocument(e.document.guid)),513),[[y,t.showContent]])])])}}}),_=w(T,[["__scopeId","data-v-f1045461"]]),V={class:"folderView"},j={class:"folders"},L={key:0,class:"documents"},M={components:{DocumentComponent:_},data(){return{folder:{},loading:!1}},async mounted(){this.loading=!0;try{this.folder=(await v.get(`folders/${this.folderGuid}`)).data}catch{alert("Server was unable to load folder.")}finally{this.loading=!1}},computed:{folderGuid(){return this.$route.params.id}}},H=Object.assign(M,{__name:"FolderView",setup(e){return(t,d)=>(s(),n("div",V,[t.loading?(s(),c($,{key:0})):r("",!0),o("h1",null,"Folder "+a(t.folderGuid),1),o("div",j,[o("h3",null,"Name: "+a(t.folder.name),1),t.folder.documents?(s(),n("div",L,[(s(!0),n(f,null,h(t.folder.documents,l=>(s(),c(_,{key:l.guid,document:l},null,8,["document"]))),128))])):r("",!0)])]))}});export{H as default};
