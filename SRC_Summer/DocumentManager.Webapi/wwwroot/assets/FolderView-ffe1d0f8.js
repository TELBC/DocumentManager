import{o as d,c as a,a as t,t as s,F as r,r as u,d as m,_ as f,p as h,e as g,f as c,b as i,L as p}from"./index-711bc678.js";const v=e=>(h("data-v-69ddc164"),e=e(),g(),e),y={class:"document"},D={class:"title"},$={class:"type"},C={class:"version"},k=v(()=>t("div",{class:"actions"},[t("span",{class:"loadContent"},[t("i",{class:"fa-solid fa-file"})])],-1)),w={class:"documentContent"},S={props:{document:{type:Object,required:!0}},data(){return{loading:!1,loadedDocument:null}},methods:{async loadContent(e){if(!this.loading)try{this.loading=!0,this.loadedDocument=(await m.get(`folders/${this.folderGuid}/${e}`)).data}catch{alert("Server was unable to load document.")}finally{this.loading=!1}},getDocument(e){return this.loadedDocument&&this.loadedDocument.guid===e?this.loadedDocument.content:null}},computed:{folderGuid(){return this.$route.params.id}}},b=Object.assign(S,{__name:"DocumentComponent",setup(e){return(o,l)=>(d(),a("div",y,[t("div",{class:"documentsHeader",onClick:l[0]||(l[0]=n=>o.loadContent(e.document.guid))},[t("div",D,s(e.document.title),1),t("div",$,s(e.document.type),1),(d(!0),a(r,null,u(e.document.tags,n=>(d(),a("div",{class:"tags",key:n},s(n),1))),128)),t("div",C,s(e.document.version),1),k]),t("div",w,s(o.getDocument(e.document.guid)),1)]))}}),_=f(b,[["__scopeId","data-v-69ddc164"]]),G={class:"folderView"},B={class:"folders"},F={key:0,class:"documents"},I={components:{DocumentComponent:_},data(){return{folder:{},loading:!1}},async mounted(){this.loading=!0;try{this.folder=(await m.get(`folders/${this.folderGuid}`)).data}catch{alert("Server was unable to load folder.")}finally{this.loading=!1}},computed:{folderGuid(){return this.$route.params.id}}},j=Object.assign(I,{__name:"FolderView",setup(e){return(o,l)=>(d(),a("div",G,[o.loading?(d(),c(p,{key:0})):i("",!0),t("h1",null,"Folder "+s(o.folderGuid),1),t("div",B,[t("h3",null,"Name: "+s(o.folder.name),1),o.folder.documents?(d(),a("div",F,[(d(!0),a(r,null,u(o.folder.documents,n=>(d(),c(_,{key:n.guid,document:n},null,8,["document"]))),128))])):i("",!0)])]))}});export{j as default};
